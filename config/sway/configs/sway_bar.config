# vim: syntax=i3
# ======================================================================================
# All About i3bar Settings
# ======================================================================================
# Start i3bar to display a workspace bar (plus the system information i3status finds out
# if available). For i3bar theme configuration, check the online color palette configurer
# -- https://thomashunter.name/i3-configurator/

# Status bar for general purposes (primary output)
bar {
    # Bar property
    id bar_base
    # Basic bar
    position top
    # Bar visibility
    mode hide
    ## Bar output display
    #output primary
    height 25
    # Modifier (show bar when pressing)
    modifier Mod4
    # Mode indicator (show sway mode)
    binding_mode_indicator yes
    # Font
    font pango: DroidSansMono Nerd Font $default_i3bar_fontsize
    # Workspace indicator
    workspace_buttons yes
    workspace_min_width 20
    strip_workspace_numbers yes
    # Tray icon
    tray_output whatever
    tray_padding 5
    # Bumblebee-status
    status_command $HOME/.local/bin/bumblebee-status \
        -m \
            title \
            network_traffic \
            sensors \
            cpu \
            memory \
            pasink \
            pasource \
            brightness \
            time \
            date \
            battery \
        -p \
            title.max=128 \
            home.path=/home \
            time.format="%H:%M" \
            date.format="%a, %b/%d/%Y" \
            memory.format="{percent:03.01f}%" \
            disk.format="{percent:05.02f}%" \
            pasink.percent_change=1 \
            pasource.percent_change=1 \
            brightness.step=1 \
        -t \
            dracula-powerline
    colors {
        background #282A36
        statusline #F8F8F2
        separator  #44475A
        focused_workspace  #6272A4 #44475A #F8F8F2
        active_workspace   #282A36 #44475A #F8F8F2
        inactive_workspace #282A36 #282A36 #BFBFBF
        urgent_workspace   #FF5555 #FF5555 #F8F8F2
        binding_mode       #FF5555 #FF5555 #F8F8F2
    }
}

# Bar mode for i3bar bar_base
set $mode_i3bar Bar: [d]ock_bar [h]ide_bar [r]eload_bar [s]et_default_bar_dock [S]et_default_bar_hide [f]ontsize
bindsym Mod4+Shift+b mode "$mode_i3bar"
mode "$mode_i3bar" {
    bindsym d       exec $I3_SCRIPT/i3_bar_operator.sh bar_dock; mode "default"
    bindsym h       exec $I3_SCRIPT/i3_bar_operator.sh bar_hide; mode "default"
    bindsym r       exec $I3_SCRIPT/i3_bar_operator.sh bar_reload; mode "default"
    bindsym s       exec $I3_SCRIPT/i3_bar_operator.sh default_dock; reload
    bindsym Shift+s exec $I3_SCRIPT/i3_bar_operator.sh default_hide; reload
    bindsym f       mode "$mode_i3bar_fontsize"
    # exit mode: "Enter" or "Escape"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# i3bar fontsize mode (within i3bar mode)
set $mode_i3bar_fontsize i3bar fontsize: [1] 8pix [2] 9pix [3] 10pix [4] 11pix [5] 12pix [6] 13pix [7] 14pix [8] 15pix [9] 16pix
mode "$mode_i3bar_fontsize" {
    bindsym 1 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 8; mode "default"
    bindsym 2 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 9; mode "default"
    bindsym 3 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 10; mode "default"
    bindsym 4 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 11; mode "default"
    bindsym 5 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 12; mode "default"
    bindsym 6 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 13; mode "default"
    bindsym 7 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 14; mode "default"
    bindsym 8 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 15; mode "default"
    bindsym 9 exec $I3_SCRIPT/i3_default_valuechanger.sh i3bar_fontsize 16; mode "default"
    # exit mode: "Enter" or "Escape"
    bindsym Return mode "$mode_i3bar"
    bindsym Escape mode "default"
}

# Toggle i3bar bar_base
#bindsym Mod4+b exec $I3_SCRIPT/i3_bar_operator.sh bar_toggle
bindsym Mod4+b bar mode toggle bar_base
